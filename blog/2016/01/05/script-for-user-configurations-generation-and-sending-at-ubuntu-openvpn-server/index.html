<!DOCTYPE html>
<html lang="en">

<head>
    
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="HandheldFriendly" content="True" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="generator" content="Hugo 0.80.0" />


<link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/favicon.ico" />


<title>Script for user configurations generation and sending at Ubuntu OpenVPN server - :) bikulov.ORG</title>


<meta name="author" content="bikulov" />


<meta name="description" content="Static notes about information technologies." />


<meta name="keywords" content="openvpn, ubuntu, howto, script" />


<meta property="og:title" content="Script for user configurations generation and sending at Ubuntu OpenVPN server" />
<meta name="twitter:title" content="Script for user configurations generation and sending at Ubuntu OpenVPN server" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bikulov.org/blog/2016/01/05/script-for-user-configurations-generation-and-sending-at-ubuntu-openvpn-server/" /><meta property="og:description" content="Ubuntu has a very detailed documentation about OpenVPN server configuration. The key feature of this note is script for automatic generation of single-file client configurations (keys and certs are embedded) and sending them by email. Looks interesting? Read below!" />
<meta name="twitter:description" content="Ubuntu has a very detailed documentation about OpenVPN server configuration. The key feature of this note is script for automatic generation of single-file client configurations (keys and certs are embedded) and sending them by email. Looks interesting? Read below!" /><meta property="og:image" content="https://bikulov.org/img/og.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://bikulov.org/img/og.png" /><meta property="article:published_time" content="2016-01-05T23:07:00+03:00" /><meta property="article:modified_time" content="2016-01-05T23:07:00+03:00" />


<style>
    @media (prefers-color-scheme: dark) {
        body[data-theme='auto'] img {
            filter: brightness(60%);
        }
    }

    body[data-theme='dark'] img {
        filter: brightness(60%);
    }
</style>



<link rel="stylesheet" href="https://bikulov.org/assets/css/fuji.min.css" />





</head>

<body data-theme="auto">
    <script data-cfasync="false">
  
  var fujiThemeData = localStorage.getItem('fuji_data-theme');
  
  if (!fujiThemeData) {
    localStorage.setItem('fuji_data-theme', 'auto');
  } else {
    
    if (fujiThemeData !== 'auto') {
      document.body.setAttribute('data-theme', fujiThemeData === 'dark' ? 'dark' : 'light');
    }
  }
</script>
    <header>
    <div class="container-lg clearfix">
        <div class="col-12 header">
            <a class="title-main" href="https://bikulov.org">:) bikulov.ORG</a>
            
            <span class="title-sub">Static notes about information technologies</span>
            
        </div>
    </div>
</header>

    <main>
        <div class="container-lg clearfix">
            
            <div class="col-12 col-md-9 float-left content">
                
<article>
    
    <h2 class="post-item post-title">
        <a href="https://bikulov.org/blog/2016/01/05/script-for-user-configurations-generation-and-sending-at-ubuntu-openvpn-server/">Script for user configurations generation and sending at Ubuntu OpenVPN server</a>
    </h2>
    <div class="post-item post-meta">
        <span><i class="iconfont icon-today-sharp"></i>&nbsp;2016-01-05</span><span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href="/tags/openvpn">openvpn</a>&nbsp;<a href="/tags/ubuntu">ubuntu</a>&nbsp;<a href="/tags/howto">howto</a>&nbsp;<a href="/tags/script">script</a>&nbsp;</span>

    </div>
    
    <div class="post-content markdown-body">
        <p>Ubuntu has a very detailed documentation about <a href="https://help.ubuntu.com/lts/serverguide/openvpn.html" target="_blank">OpenVPN server</a> configuration. The key feature of this note is script for automatic generation of single-file client configurations (keys and certs are embedded) and sending them by email. Looks interesting? Read below!</p>
<h2 id="prerequisities">Prerequisities</h2>
<p>All commands in this section must be executed as root user.</p>
<p>Update package list:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">apt-get update
apt-get -y upgrade
</code></pre></div><p>Install needed packages (easy-rsa must be installed explicitly on modern Ubuntus):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">apt-get install -y openvpn easy-rsa
</code></pre></div><h2 id="configure-openvpn-server-on-ubuntu-1404">Configure OpenVPN server on Ubuntu 14.04</h2>
<p>Copy default configuration:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cp -r /usr/share/easy-rsa /etc/openvpn/easy-rsa
cd /etc/openvpn/easy-rsa
</code></pre></div><p>Edit vars file in <code>/etc/openvpn/easy-rsa</code> folder corresponding to your settings. Change the following lines corresponding to your options:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">export KEY_SIZE<span style="color:#f92672">=</span><span style="color:#ae81ff">2048</span>

export KEY_COUNTRY<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;US&#34;</span>
export KEY_PROVINCE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;State&#34;</span>
export KEY_CITY<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;BigCityName&#34;</span>
export KEY_ORG<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;OrganizationName&#34;</span>
export KEY_EMAIL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mail@organization.com&#34;</span>
export KEY_OU<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;vpn.organization.com&#34;</span>

export KEY_NAME<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;vpn.organization.com&#34;</span>

export KEY_CN<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;vpn.organization.com&#34;</span>
export KEY_ALTNAMES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;vpn.organization.com&#34;</span>
</code></pre></div><p>Activate saved settings:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">source vars
</code></pre></div><p>And generate server keys:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./clean-all
./build-ca
./build-key-server vpn.organization.com
./build-dh
openvpn --genkey --secret keys/ta.key
</code></pre></div><p>Example of server config (must be placed into <code>/etc/openvpn</code> folder):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># /etc/openvpn/server.conf</span>
<span style="color:#75715e"># Which TCP/UDP port should OpenVPN listen on</span>
port <span style="color:#ae81ff">1594</span>

<span style="color:#75715e"># Ip&#39;s</span>
server 10.10.10.0 255.255.255.0

<span style="color:#75715e"># UDP server</span>
proto udp

<span style="color:#75715e"># Create a routed IP tunnel</span>
dev tun

<span style="color:#75715e"># Root certificate, certificate, private key, DH key, SSL/TLS key</span>
ca       easy-rsa/keys/ca.crt
cert     easy-rsa/keys/vpn.organization.com.crt
key      easy-rsa/keys/vpn.organization.com.key
dh       easy-rsa/keys/dh2048.pem
tls-auth easy-rsa/keys/ta.key <span style="color:#ae81ff">0</span>

<span style="color:#75715e"># Maintain a record of client &lt;-&gt; virtual IP address</span>
ifconfig-pool-persist ipp.txt

<span style="color:#75715e"># Allow different clients to be able to &#34;see&#34; each other</span>
client-to-client

<span style="color:#75715e"># Ping every 10 seconds, peer is down if no pong during a 120 seconds</span>
keepalive <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">120</span>

<span style="color:#75715e"># Cryptographic cipher</span>
cipher AES-256-CBC

<span style="color:#75715e"># Enable compression on the VPN link</span>
comp-lzo

<span style="color:#75715e"># Reduce the OpenVPN daemon&#39;s privileges after initialization</span>
user nobody
group nogroup

<span style="color:#75715e"># Avoid errors caused by the privilege downgrade</span>
persist-key
persist-tun

<span style="color:#75715e"># Status file</span>
status openvpn-status.log

<span style="color:#75715e"># Set the appropriate level of log verbosity</span>
verb <span style="color:#ae81ff">3</span>
</code></pre></div><p>Be sure that your keys <code>ca.crt</code>, <code>vpn.organization.com.crt</code>, <code>vpn.organization.com.key</code>, <code>dh2048.pem</code>, <code>ta.key</code> are in the correct place corresponding to server config.</p>
<h2 id="client-configuration">Client configuration</h2>
<p>Client configuration must correspond to server one. For the above server config client one is:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># /etc/openvpn/easy-rsa/client.conf</span>
<span style="color:#75715e"># Specify that it is a client</span>
client

<span style="color:#75715e"># Use the same setting as on the server.</span>
dev tun
proto udp

<span style="color:#75715e"># The hostname/IP and port of the server.</span>
remote vpn.organization.com <span style="color:#ae81ff">1594</span>

<span style="color:#75715e"># Keep trying indefinitely to resolve the host name of the OpenVPN server</span>
resolv-retry infinite

<span style="color:#75715e"># Most clients don&#39;t need to bind to a specific local port number</span>
nobind

<span style="color:#75715e"># Downgrade privileges after initialization (non-Windows only)</span>
user nobody
group nogroup

<span style="color:#75715e"># Try to preserve some state across restarts</span>
persist-key
persist-tun

<span style="color:#75715e"># Verify server certificate</span>
ns-cert-type server

<span style="color:#75715e"># Enable compression on the VPN link</span>
comp-lzo

<span style="color:#75715e"># Set log file verbosity.</span>
verb <span style="color:#ae81ff">3</span>

<span style="color:#75715e"># Set key direction for tls-auth</span>
key-direction <span style="color:#ae81ff">1</span>

<span style="color:#75715e"># Cryptographic cipher</span>
cipher AES-256-CBC
</code></pre></div><h2 id="сonvenient-autosending-of-client-configurations">Сonvenient autosending of client configurations</h2>
<p>Save the following script into folder:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/usr/bin/env bash
</span><span style="color:#75715e"></span>
CLIENT<span style="color:#f92672">=</span>$1
CLIENT_MAIL<span style="color:#f92672">=</span>$2
SERVER<span style="color:#f92672">=</span>vpn.dima.io

cd /etc/openvpn/easy-rsa

source vars

mkdir -p bundles

./build-key <span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>

cp client.conf bundles/<span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>.conf

echo <span style="color:#e6db74">&#34;&lt;ca&gt;&#34;</span>  &gt;&gt; bundles/<span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>.conf
cat keys/ca.crt &gt;&gt; bundles/<span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>.conf
echo <span style="color:#e6db74">&#34;&lt;/ca&gt;&#34;</span> &gt;&gt; bundles/<span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>.conf

echo <span style="color:#e6db74">&#34;&lt;cert&gt;&#34;</span>  &gt;&gt; bundles/<span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>.conf
cat keys/<span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>.crt &gt;&gt; bundles/<span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>.conf
echo <span style="color:#e6db74">&#34;&lt;/cert&gt;&#34;</span> &gt;&gt; bundles/<span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>.conf

echo <span style="color:#e6db74">&#34;&lt;key&gt;&#34;</span>  &gt;&gt; bundles/<span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>.conf
cat keys/<span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>.key &gt;&gt; bundles/<span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>.conf
echo <span style="color:#e6db74">&#34;&lt;/key&gt;&#34;</span> &gt;&gt; bundles/<span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>.conf

echo <span style="color:#e6db74">&#34;&lt;tls-auth&gt;&#34;</span>  &gt;&gt; bundles/<span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>.conf
cat keys/ta.key &gt;&gt; bundles/<span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>.conf
echo <span style="color:#e6db74">&#34;&lt;/tls-auth&gt;&#34;</span> &gt;&gt; bundles/<span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>.conf

<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -n <span style="color:#e6db74">&#34;</span>$CLIENT_MAIL<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
    echo -e <span style="color:#e6db74">&#34;Hello, </span><span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span><span style="color:#e6db74">!\n\nConfiguration with embedded certificates is attached.&#34;</span> &gt; mail.txt
    echo <span style="color:#e6db74">&#34;If you use Windows system, rename configuration from *.conf to *.ovpn.&#34;</span> &gt;&gt; mail.txt
    echo <span style="color:#e6db74">&#34;This mail is automatically generated. Please do not respond to it.&#34;</span> &gt;&gt; mail.txt
    echo <span style="color:#e6db74">&#34;--&#34;</span>
    echo <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span><span style="color:#e6db74"> team.&#34;</span>
    cat mail.txt | mutt -s <span style="color:#e6db74">&#34;Configuration for </span>$CLIENT<span style="color:#e6db74"> on </span>$SERVER<span style="color:#e6db74"> OpenVPN server&#34;</span> -a bundles/<span style="color:#e6db74">${</span>CLIENT<span style="color:#e6db74">}</span>.at.<span style="color:#e6db74">${</span>SERVER<span style="color:#e6db74">}</span>.conf -- $CLIENT_MAIL
<span style="color:#66d9ef">fi</span>

rm mail.txt
</code></pre></div><p>add-key</p>
<p>And make it executable:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">chmod +x add-key
</code></pre></div><p>You will have to install <code>mutt</code> (it is used for sending emails with attachments). Your server must have full hostname like <code>server.organization.com</code>, otherwise sendmail may hang during the install, so change it before mutt installation.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">apt-get install -y mutt
</code></pre></div><h2 id="if-you-install-in-lxc-container">If you install in LXC container</h2>
<p>If you install VPN server into LXC container, you have to make additional steps. Firstly, add rule for iptabels in host system (use ip of your VPN container and port from VPN server config):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">iptables -t nat -A PREROUTING -i eth0 -p udp --dport <span style="color:#ae81ff">1594</span> -j DNAT --to 10.0.3.111:1594
</code></pre></div><p>To make it persistent, you may use <a href="http://stackoverflow.com/questions/30818931/debian-8-iptables-persistent" target="_blank">iptables-persistent</a>.</p>
<p>Secondly, confugure <a href="/blog/2014/10/09/tips-for-lxc/">tun device</a> for lxc.</p>
    </div>
</article>




            </div>
            <aside class="col-12 col-md-3 float-left sidebar">
    
    <div class="sidebar-item sidebar-pages">
        <h3>Pages</h3>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/resume/">Resume</a>
            </li>
            
            <li>
                <a href="/index.xml">RSS</a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>Links</h3>
        <ul>
            
            <li>
                <a href="https://github.com/bikulov" target="_blank"><span>Github</span></a>
            </li>
            
            <li>
                <a href="https://linkedin.com/in/bikulov" target="_blank"><span>LinkedIn</span></a>
            </li>
            
            <li>
                <a href="https://twitter.com/volukib" target="_blank"><span>Twitter</span></a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>Tags</h3>
        <div>
            
            <span>
                <a href="/tags/awk/">awk</a>
            </span>
            
            <span>
                <a href="/tags/backup/">backup</a>
            </span>
            
            <span>
                <a href="/tags/bash/">bash</a>
            </span>
            
            <span>
                <a href="/tags/blender/">blender</a>
            </span>
            
            <span>
                <a href="/tags/btsync/">btsync</a>
            </span>
            
            <span>
                <a href="/tags/c/">c</a>
            </span>
            
            <span>
                <a href="/tags/c&#43;&#43;/">c&#43;&#43;</a>
            </span>
            
            <span>
                <a href="/tags/centos/">centos</a>
            </span>
            
            <span>
                <a href="/tags/cmake/">cmake</a>
            </span>
            
            <span>
                <a href="/tags/config/">config</a>
            </span>
            
            <span>
                <a href="/tags/console/">console</a>
            </span>
            
            <span>
                <a href="/tags/cpp/">cpp</a>
            </span>
            
            <span>
                <a href="/tags/cron/">cron</a>
            </span>
            
            <span>
                <a href="/tags/cuda/">cuda</a>
            </span>
            
            <span>
                <a href="/tags/dd/">dd</a>
            </span>
            
            <span>
                <a href="/tags/docker/">docker</a>
            </span>
            
            <span>
                <a href="/tags/dokuwiki/">dokuwiki</a>
            </span>
            
            <span>
                <a href="/tags/drupal/">drupal</a>
            </span>
            
            <span>
                <a href="/tags/du/">du</a>
            </span>
            
            <span>
                <a href="/tags/exceptions/">exceptions</a>
            </span>
            
            <span>
                <a href="/tags/fatnode/">fatnode</a>
            </span>
            
            <span>
                <a href="/tags/ffmpeg/">ffmpeg</a>
            </span>
            
            <span>
                <a href="/tags/firefox/">firefox</a>
            </span>
            
            <span>
                <a href="/tags/gengetopt/">gengetopt</a>
            </span>
            
            <span>
                <a href="/tags/heapsort/">heapsort</a>
            </span>
            
            <span>
                <a href="/tags/howto/">howto</a>
            </span>
            
            <span>
                <a href="/tags/i3/">i3</a>
            </span>
            
            <span>
                <a href="/tags/imagemagick/">imagemagick</a>
            </span>
            
            <span>
                <a href="/tags/ip/">ip</a>
            </span>
            
            <span>
                <a href="/tags/iptables/">iptables</a>
            </span>
            
            <span>
                <a href="/tags/ipython/">ipython</a>
            </span>
            
            <span>
                <a href="/tags/joomla/">joomla</a>
            </span>
            
            <span>
                <a href="/tags/jupyter/">jupyter</a>
            </span>
            
            <span>
                <a href="/tags/latex/">latex</a>
            </span>
            
            <span>
                <a href="/tags/libcheese/">libcheese</a>
            </span>
            
            <span>
                <a href="/tags/linux/">linux</a>
            </span>
            
            <span>
                <a href="/tags/lxc/">lxc</a>
            </span>
            
            <span>
                <a href="/tags/makefile/">makefile</a>
            </span>
            
            <span>
                <a href="/tags/matplotlib/">matplotlib</a>
            </span>
            
            <span>
                <a href="/tags/mercurial/">mercurial</a>
            </span>
            
            <span>
                <a href="/tags/montage/">montage</a>
            </span>
            
            <span>
                <a href="/tags/mysql/">mysql</a>
            </span>
            
            <span>
                <a href="/tags/nautilus/">nautilus</a>
            </span>
            
            <span>
                <a href="/tags/nginx/">nginx</a>
            </span>
            
            <span>
                <a href="/tags/numpy/">numpy</a>
            </span>
            
            <span>
                <a href="/tags/openvpn/">openvpn</a>
            </span>
            
            <span>
                <a href="/tags/openvz/">openvz</a>
            </span>
            
            <span>
                <a href="/tags/paraview/">paraview</a>
            </span>
            
            <span>
                <a href="/tags/pcap/">pcap</a>
            </span>
            
            <span>
                <a href="/tags/pcmanfm/">PCManFM</a>
            </span>
            
            <span>
                <a href="/tags/pdf/">pdf</a>
            </span>
            
            <span>
                <a href="/tags/perl/">perl</a>
            </span>
            
            <span>
                <a href="/tags/plots/">plots</a>
            </span>
            
            <span>
                <a href="/tags/png/">png</a>
            </span>
            
            <span>
                <a href="/tags/postgres/">postgres</a>
            </span>
            
            <span>
                <a href="/tags/postgresql/">postgresql</a>
            </span>
            
            <span>
                <a href="/tags/programmer-tools/">programmer tools</a>
            </span>
            
            <span>
                <a href="/tags/python/">python</a>
            </span>
            
            <span>
                <a href="/tags/quicksort/">quicksort</a>
            </span>
            
            <span>
                <a href="/tags/research/">research</a>
            </span>
            
            <span>
                <a href="/tags/rhodecode/">rhodecode</a>
            </span>
            
            <span>
                <a href="/tags/scan/">scan</a>
            </span>
            
            <span>
                <a href="/tags/scanimage/">scanimage</a>
            </span>
            
            <span>
                <a href="/tags/science/">science</a>
            </span>
            
            <span>
                <a href="/tags/scipy/">scipy</a>
            </span>
            
            <span>
                <a href="/tags/screen-capture/">screen capture</a>
            </span>
            
            <span>
                <a href="/tags/script/">script</a>
            </span>
            
            <span>
                <a href="/tags/scrot/">scrot</a>
            </span>
            
            <span>
                <a href="/tags/seaborn/">seaborn</a>
            </span>
            
            <span>
                <a href="/tags/sed/">sed</a>
            </span>
            
            <span>
                <a href="/tags/selfhosted/">selfhosted</a>
            </span>
            
            <span>
                <a href="/tags/server/">server</a>
            </span>
            
            <span>
                <a href="/tags/slurm/">slurm</a>
            </span>
            
            <span>
                <a href="/tags/snippet/">snippet</a>
            </span>
            
            <span>
                <a href="/tags/ssh/">ssh</a>
            </span>
            
            <span>
                <a href="/tags/tcpdump/">tcpdump</a>
            </span>
            
            <span>
                <a href="/tags/tcptrace/">tcptrace</a>
            </span>
            
            <span>
                <a href="/tags/template/">template</a>
            </span>
            
            <span>
                <a href="/tags/terminal/">terminal</a>
            </span>
            
            <span>
                <a href="/tags/tiff/">tiff</a>
            </span>
            
            <span>
                <a href="/tags/tips-and-tricks/">tips and tricks</a>
            </span>
            
            <span>
                <a href="/tags/tpick/">tpick</a>
            </span>
            
            <span>
                <a href="/tags/tr/">tr</a>
            </span>
            
            <span>
                <a href="/tags/tshark/">tshark</a>
            </span>
            
            <span>
                <a href="/tags/tun/">tun</a>
            </span>
            
            <span>
                <a href="/tags/tutorial/">tutorial</a>
            </span>
            
            <span>
                <a href="/tags/ubuntu/">ubuntu</a>
            </span>
            
            <span>
                <a href="/tags/ubuntu-12.04/">ubuntu 12.04</a>
            </span>
            
            <span>
                <a href="/tags/ubuntu-server/">ubuntu server</a>
            </span>
            
            <span>
                <a href="/tags/visualization/">visualization</a>
            </span>
            
            <span>
                <a href="/tags/vpn/">vpn</a>
            </span>
            
            <span>
                <a href="/tags/yandex.disk/">yandex.disk</a>
            </span>
            
            <span>
                <a href="/tags/zotero/">zotero</a>
            </span>
            
            <span>
                <a href="/tags/zotfile/">zotfile</a>
            </span>
            
        </div>
    </div>
    <div class="sidebar-item sidebar-toc">
        <h3>TOC</h3><nav id="TableOfContents">
  <ul>
    <li><a href="#prerequisities">Prerequisities</a></li>
    <li><a href="#configure-openvpn-server-on-ubuntu-1404">Configure OpenVPN server on Ubuntu 14.04</a></li>
    <li><a href="#client-configuration">Client configuration</a></li>
    <li><a href="#сonvenient-autosending-of-client-configurations">Сonvenient autosending of client configurations</a></li>
    <li><a href="#if-you-install-in-lxc-container">If you install in LXC container</a></li>
  </ul>
</nav></div>
</aside>
        </div>
        <div class="btn">
    <div class="btn-menu" id="btn-menu">
        <i class="iconfont icon-grid-sharp"></i>
    </div>
    <div class="btn-toggle-mode">
        <i class="iconfont icon-contrast-sharp"></i>
    </div>
    <div class="btn-scroll-top">
        <i class="iconfont icon-chevron-up-circle-sharp"></i>
    </div>
</div>
<aside class="sidebar-mobile" style="display: none;">
  <div class="sidebar-wrapper">
    
    <div class="sidebar-item sidebar-pages">
        <h3>Pages</h3>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/resume/">Resume</a>
            </li>
            
            <li>
                <a href="/index.xml">RSS</a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>Links</h3>
        <ul>
            
            <li>
                <a href="https://github.com/bikulov" target="_blank"><span>Github</span></a>
            </li>
            
            <li>
                <a href="https://linkedin.com/in/bikulov" target="_blank"><span>LinkedIn</span></a>
            </li>
            
            <li>
                <a href="https://twitter.com/volukib" target="_blank"><span>Twitter</span></a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>Tags</h3>
        <div>
            
            <span>
                <a href="/tags/awk/">awk</a>
            </span>
            
            <span>
                <a href="/tags/backup/">backup</a>
            </span>
            
            <span>
                <a href="/tags/bash/">bash</a>
            </span>
            
            <span>
                <a href="/tags/blender/">blender</a>
            </span>
            
            <span>
                <a href="/tags/btsync/">btsync</a>
            </span>
            
            <span>
                <a href="/tags/c/">c</a>
            </span>
            
            <span>
                <a href="/tags/c&#43;&#43;/">c&#43;&#43;</a>
            </span>
            
            <span>
                <a href="/tags/centos/">centos</a>
            </span>
            
            <span>
                <a href="/tags/cmake/">cmake</a>
            </span>
            
            <span>
                <a href="/tags/config/">config</a>
            </span>
            
            <span>
                <a href="/tags/console/">console</a>
            </span>
            
            <span>
                <a href="/tags/cpp/">cpp</a>
            </span>
            
            <span>
                <a href="/tags/cron/">cron</a>
            </span>
            
            <span>
                <a href="/tags/cuda/">cuda</a>
            </span>
            
            <span>
                <a href="/tags/dd/">dd</a>
            </span>
            
            <span>
                <a href="/tags/docker/">docker</a>
            </span>
            
            <span>
                <a href="/tags/dokuwiki/">dokuwiki</a>
            </span>
            
            <span>
                <a href="/tags/drupal/">drupal</a>
            </span>
            
            <span>
                <a href="/tags/du/">du</a>
            </span>
            
            <span>
                <a href="/tags/exceptions/">exceptions</a>
            </span>
            
            <span>
                <a href="/tags/fatnode/">fatnode</a>
            </span>
            
            <span>
                <a href="/tags/ffmpeg/">ffmpeg</a>
            </span>
            
            <span>
                <a href="/tags/firefox/">firefox</a>
            </span>
            
            <span>
                <a href="/tags/gengetopt/">gengetopt</a>
            </span>
            
            <span>
                <a href="/tags/heapsort/">heapsort</a>
            </span>
            
            <span>
                <a href="/tags/howto/">howto</a>
            </span>
            
            <span>
                <a href="/tags/i3/">i3</a>
            </span>
            
            <span>
                <a href="/tags/imagemagick/">imagemagick</a>
            </span>
            
            <span>
                <a href="/tags/ip/">ip</a>
            </span>
            
            <span>
                <a href="/tags/iptables/">iptables</a>
            </span>
            
            <span>
                <a href="/tags/ipython/">ipython</a>
            </span>
            
            <span>
                <a href="/tags/joomla/">joomla</a>
            </span>
            
            <span>
                <a href="/tags/jupyter/">jupyter</a>
            </span>
            
            <span>
                <a href="/tags/latex/">latex</a>
            </span>
            
            <span>
                <a href="/tags/libcheese/">libcheese</a>
            </span>
            
            <span>
                <a href="/tags/linux/">linux</a>
            </span>
            
            <span>
                <a href="/tags/lxc/">lxc</a>
            </span>
            
            <span>
                <a href="/tags/makefile/">makefile</a>
            </span>
            
            <span>
                <a href="/tags/matplotlib/">matplotlib</a>
            </span>
            
            <span>
                <a href="/tags/mercurial/">mercurial</a>
            </span>
            
            <span>
                <a href="/tags/montage/">montage</a>
            </span>
            
            <span>
                <a href="/tags/mysql/">mysql</a>
            </span>
            
            <span>
                <a href="/tags/nautilus/">nautilus</a>
            </span>
            
            <span>
                <a href="/tags/nginx/">nginx</a>
            </span>
            
            <span>
                <a href="/tags/numpy/">numpy</a>
            </span>
            
            <span>
                <a href="/tags/openvpn/">openvpn</a>
            </span>
            
            <span>
                <a href="/tags/openvz/">openvz</a>
            </span>
            
            <span>
                <a href="/tags/paraview/">paraview</a>
            </span>
            
            <span>
                <a href="/tags/pcap/">pcap</a>
            </span>
            
            <span>
                <a href="/tags/pcmanfm/">PCManFM</a>
            </span>
            
            <span>
                <a href="/tags/pdf/">pdf</a>
            </span>
            
            <span>
                <a href="/tags/perl/">perl</a>
            </span>
            
            <span>
                <a href="/tags/plots/">plots</a>
            </span>
            
            <span>
                <a href="/tags/png/">png</a>
            </span>
            
            <span>
                <a href="/tags/postgres/">postgres</a>
            </span>
            
            <span>
                <a href="/tags/postgresql/">postgresql</a>
            </span>
            
            <span>
                <a href="/tags/programmer-tools/">programmer tools</a>
            </span>
            
            <span>
                <a href="/tags/python/">python</a>
            </span>
            
            <span>
                <a href="/tags/quicksort/">quicksort</a>
            </span>
            
            <span>
                <a href="/tags/research/">research</a>
            </span>
            
            <span>
                <a href="/tags/rhodecode/">rhodecode</a>
            </span>
            
            <span>
                <a href="/tags/scan/">scan</a>
            </span>
            
            <span>
                <a href="/tags/scanimage/">scanimage</a>
            </span>
            
            <span>
                <a href="/tags/science/">science</a>
            </span>
            
            <span>
                <a href="/tags/scipy/">scipy</a>
            </span>
            
            <span>
                <a href="/tags/screen-capture/">screen capture</a>
            </span>
            
            <span>
                <a href="/tags/script/">script</a>
            </span>
            
            <span>
                <a href="/tags/scrot/">scrot</a>
            </span>
            
            <span>
                <a href="/tags/seaborn/">seaborn</a>
            </span>
            
            <span>
                <a href="/tags/sed/">sed</a>
            </span>
            
            <span>
                <a href="/tags/selfhosted/">selfhosted</a>
            </span>
            
            <span>
                <a href="/tags/server/">server</a>
            </span>
            
            <span>
                <a href="/tags/slurm/">slurm</a>
            </span>
            
            <span>
                <a href="/tags/snippet/">snippet</a>
            </span>
            
            <span>
                <a href="/tags/ssh/">ssh</a>
            </span>
            
            <span>
                <a href="/tags/tcpdump/">tcpdump</a>
            </span>
            
            <span>
                <a href="/tags/tcptrace/">tcptrace</a>
            </span>
            
            <span>
                <a href="/tags/template/">template</a>
            </span>
            
            <span>
                <a href="/tags/terminal/">terminal</a>
            </span>
            
            <span>
                <a href="/tags/tiff/">tiff</a>
            </span>
            
            <span>
                <a href="/tags/tips-and-tricks/">tips and tricks</a>
            </span>
            
            <span>
                <a href="/tags/tpick/">tpick</a>
            </span>
            
            <span>
                <a href="/tags/tr/">tr</a>
            </span>
            
            <span>
                <a href="/tags/tshark/">tshark</a>
            </span>
            
            <span>
                <a href="/tags/tun/">tun</a>
            </span>
            
            <span>
                <a href="/tags/tutorial/">tutorial</a>
            </span>
            
            <span>
                <a href="/tags/ubuntu/">ubuntu</a>
            </span>
            
            <span>
                <a href="/tags/ubuntu-12.04/">ubuntu 12.04</a>
            </span>
            
            <span>
                <a href="/tags/ubuntu-server/">ubuntu server</a>
            </span>
            
            <span>
                <a href="/tags/visualization/">visualization</a>
            </span>
            
            <span>
                <a href="/tags/vpn/">vpn</a>
            </span>
            
            <span>
                <a href="/tags/yandex.disk/">yandex.disk</a>
            </span>
            
            <span>
                <a href="/tags/zotero/">zotero</a>
            </span>
            
            <span>
                <a href="/tags/zotfile/">zotfile</a>
            </span>
            
        </div>
    </div>
    
    
    
    <div class="sidebar-item sidebar-toc">
        <h3>TOC</h3>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#prerequisities">Prerequisities</a></li>
    <li><a href="#configure-openvpn-server-on-ubuntu-1404">Configure OpenVPN server on Ubuntu 14.04</a></li>
    <li><a href="#client-configuration">Client configuration</a></li>
    <li><a href="#сonvenient-autosending-of-client-configurations">Сonvenient autosending of client configurations</a></li>
    <li><a href="#if-you-install-in-lxc-container">If you install in LXC container</a></li>
  </ul>
</nav>
    </div>
    
    
  </div>
</aside>
    </main>

    <footer>
    <div class="container-lg clearfix">
        <div class="col-12 footer">
            
            <span>&copy; 2012-2021
                <a href="https://bikulov.org">bikulov</a>
                 | <a href="https://github.com/bikulov/bikulov.github.io">Source code</a> 
                | Powered by <a href="https://github.com/amzrk2/hugo-theme-fuji/"
                   target="_blank">Fuji-v2</a> &amp; <a href="https://gohugo.io/"
                                                    target="_blank">Hugo</a> 
            </span>
        </div>
    </div>
</footer>

    
<script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.0/lazysizes.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/components/prism-core.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>



<script defer src="/assets/js/fuji.min.js"></script>


</body>

</html>